<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Evento</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca&family=Roboto:wght@100&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/css/create.css">
</head>
<body>
    <div class="form-container">
        <div class="form-box">
            <h1 class="form-title"><%= title %></h1>
            <form action="/edit-duki-event/<%= event.id %>" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="name" class="form-label">Nombre del evento:</label>
                    <input type="text" id="name" name="name" value="<%= event.name %>" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="description" class="form-label">Descripci√≥n:</label>
                    <textarea id="description" name="description" class="form-input" required><%= event.description %></textarea>
                </div>
                
                <div class="form-group">
                    <label for="date" class="form-label">Fecha:</label>
                    <input type="date" id="date" name="date" value="<%= event.date %>" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="venue" class="form-label">Lugar:</label>
                    <input type="text" id="venue" name="venue" value="<%= event.venue %>" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="image" class="form-label">Imagen:</label>
                    <input type="file" id="image" name="image" accept="image/*" class="form-input" required>
                    <img id="image-preview" src="#" alt="FOTO-PRODUCTO" class="foto-producto" style="display: none;">
                </div>
            
                
                <div class="form-group">
                    <label for="ticketPrice" class="form-label">Precio del ticket:</label>
                    <input type="number" id="ticketPrice" name="ticketPrice" min="0" step="0.01" value="<%= event.ticketPrice %>" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="colors" class="form-label">Colores:</label>
                    <input type="text" id="colors" name="colors" value="<%= event.colors %>" class="form-input" required>
                </div>
                
                <button type="submit" class="form-button">Guardar Cambios</button>
            </form>

            <script>
                const imageInput = document.getElementById('image');
                const imagePreview = document.getElementById('image-preview');
            
                imageInput.addEventListener('change', function(event) {
                    const selectedImage = event.target.files[0];
                    if (selectedImage) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            imagePreview.src = e.target.result;
                            imagePreview.style.display = 'block';
                        };
                        reader.readAsDataURL(selectedImage);
                    } else {
                        imagePreview.style.display = 'none';
                    }
                });
            </script>
            </body>
            </html>

